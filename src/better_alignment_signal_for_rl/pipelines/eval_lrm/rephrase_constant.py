import os
import pandas as pd
from better_alignment_signal_for_rl.pipelines.env_setup.env_wrapper import MINIGRID_TASKS, CRAFTER_TASKS


CRAFTER_TASKS_REPHRASED = {
    "collect_coal": "Venture into pixelated mines to extract coal for fueling torches and furnaces.",
    "collect_diamond": "Delve deep into virtual caves to unearth precious diamonds for advanced tool crafting.",
    "collect_drink": "Gather fresh water from pixelated lakes or rivers to quench thirst and sustain health.",
    "collect_iron": "Mine iron ore from rocky outcrops in the game world to craft durable tools and armor.",
    "collect_sapling": "Harvest saplings from various tree types within the game to replenish the forest.",
    "collect_stone": "Quarry stone blocks from the environment for building and crafting purposes.",
    "collect_wood": "Chop pixelated trees to collect wood, a basic building block for crafting and construction.",
    "defeat_skeleton": "Battle against skeletal foes using tactical maneuvers in a pixelated combat scenario.",
    "defeat_zombie": "Engage and defeat roaming zombies to secure areas and gather resources safely.",
    "eat_cow": "Hunt and consume virtual cows to restore health and sustain energy levels in-game.",
    "eat_plant": "Forage for edible plants in the pixelated landscape for survival and health recovery.",
    "make_iron_pickaxe": "Craft an iron pickaxe from mined ore to enhance mining efficiency in the game.",
    "make_iron_sword": "Forge a sturdy iron sword using mined iron and sticks to battle in-game enemies.",
    "make_stone_pickaxe": "Craft a stone pickaxe from gathered stones for basic mining and resource gathering.",
    "make_stone_sword": "Create a stone sword from quarried rock to defend against pixelated creatures.",
    "make_wood_pickaxe": "Construct a wooden pickaxe from collected timber to start mining activities.",
    "make_wood_sword": "Assemble a wooden sword to provide early game defense against minor threats.",
    "place_furnace": "Set up a furnace block to smelt ores and cook food within the game environment.",
    "place_plant": "Plant a sapling or seed in the gameâ€™s soil to grow trees and gather more wood.",
    "place_stone": "Utilize collected stone blocks for building structures or crafting in-game tools.",
    "place_table": "Erect a crafting table to enable the creation of complex items and tools in the game.",
    "wake_up": "Begin a new day of adventure and crafting in the pixelated 2D world by waking up.",
}

MINIGRID_TASKS_REPHRASED = {
    'go to the yellow key': "Navigate to and locate the yellow key within the grid environment.",
    'go to the yellow door': "Find and approach the yellow door to progress further in the game.",
    'go to a door': "Identify any door in the vicinity and make your way towards it.",
    'go to the blue door': "Seek out the blue door within the maze to find new areas.",
    'go to a ball': "Locate any ball in the grid and move towards it to interact.",
    'go to the ball': "Approach the ball you see to interact or use it in some manner.",
    'go to the green box': "Navigate your way to the green box positioned somewhere on the grid.",
    'go to the red key': "Move towards the red key to unlock doors or gates ahead.",
    'go to the grey box': "Find and approach the grey box, potentially containing items or secrets.",
    'go to a purple door': "Head towards a purple door to access new sections of the environment.",
    'go to the yellow box': "Travel to the yellow box, which may hold valuable resources or items.",
    'go to a green door': "Make your way to a green door that leads to another part of the grid.",
    'go to the red door': "Approach the red door to find out what lies behind it.",
    'go to the green ball': "Move towards the green ball located within the grid for interaction.",
    'go to the green key': "Navigate towards the green key, essential for unlocking new areas.",
    'go to a grey door': "Head towards a grey door, likely leading to new challenges or areas.",
    'go to the purple key': "Locate and move towards the purple key to unlock further paths.",
    'go to the blue key': "Find the blue key within the grid to access locked areas.",
    'go to the purple box': "Approach the purple box which might contain items or tools.",
    'go to the grey door': "Seek out the grey door to discover new environments or tasks.",
    'go to a yellow door': "Move towards a yellow door, opening up new sections of the maze.",
    'go to the box': "Find any box in the grid, which might contain useful resources.",
    'go to a key': "Locate any key present in the environment to unlock doors or solve puzzles.",
    'go to the grey key': "Navigate towards the grey key, a crucial item for game progression.",
    'go to a red door': "Seek out a red door to explore what lies beyond it in the grid.",
    'go to the key': "Approach the nearest key, a vital component for unlocking new zones.",
    'go to a blue ball': "Make your way to a blue ball, potentially important for your mission.",
    'go to the grey ball': "Locate and move towards the grey ball within the grid environment.",
    'go to the red ball': "Approach the red ball, possibly central to the tasks at hand.",
    'go to the yellow ball': "Find and go towards the yellow ball, which could be significant.",
    'go to the blue box': "Navigate to the blue box, potentially holding important items or clues.",
    'go to the purple ball': "Move to the purple ball to see what actions it might enable.",
    'go to the red box': "Head to the red box that might contain essential items or resources.",
    'go to a green key': "Seek out a green key that is crucial for advancing in the game.",
    'go to a purple ball': "Find a purple ball which may be key to solving a puzzle.",
    'go to a purple key': "Approach the purple key, important for unlocking additional game areas.",
    'go to a yellow ball': "Move towards a yellow ball that might be useful in your tasks.",
    'go to a red ball': "Navigate to a red ball, possibly involved in a challenge or task.",
    'go to a purple box': "Locate a purple box which could hold keys or tools needed.",
    'go to a yellow box': "Find a yellow box, which may be critical for your progression.",
    'go to a green box': "Go towards a green box, potentially useful for storage or tasks.",
    'go to a grey box': "Approach the grey box, likely containing items needed for your quest.",
    'go to a blue box': "Navigate to the blue box that might store valuable items or aids.",
    'go to a red box': "Make your way to the red box to discover potential tools or resources.",
    'go to a grey key': "Seek out the grey key, crucial for accessing locked areas or resources.",
    'go to a yellow key': "Find and proceed towards a yellow key, essential for game progression.",
    'go to a blue key': "Navigate to the blue key, key to unlocking doors or solving puzzles.",
    'go to a green ball': "Locate and approach a green ball, possibly part of a puzzle or task.",
    'go to a grey ball': "Make your way to a grey ball that might be integral to the environment.",
    'go to a red key': "Seek out the red key which is vital for unlocking new game phases.",
    "": "Do Nothing",
    'go to the green door': "Navigate to the green door to access a new section of the grid.",
    'go to the purple door': "Locate and proceed towards the purple door to uncover new challenges.",
    'go to a box': "Move towards any visible box in the grid to potentially discover items or tasks.",
    'go to a blue door': "Head to the blue door to find what mysteries or paths it conceals.",
    'go to the blue ball': "Approach the blue ball, which might be essential for completing the level.",

}

MONTEZUMA_TASKS_REPHRASED = {
    'climb down the middle ladder': "Descend the central ladder to reach a lower level.",
    'jump right to the yellow rope': "Leap rightwards to catch and swing from the yellow rope.",
    'jump right to the right platform': "Jump to the right to land safely on the platform.",
    'climb down the right ladder': "Carefully climb down the ladder on the right to a lower area.",
    'jump over the skull to its left': "Leap leftward over the menacing skull to avoid contact.",
    'climb up the left ladder': "Ascend the ladder on the left to access a higher level.",
    'jump up to grab the key': "Leap upwards to snatch the key hanging above.",
    'jump left to the left roof': "Make a left jump onto the roof to proceed further.",
    'open the left door': "Open the door on the left to reveal a new path or room.",
    'walk across the laser gate when it disappears': "Cross the path when the laser gate vanishes momentarily.",
    'walk to the middle when the laser gate disappears': "Proceed to the center area as soon as the laser gate fades.",
    'approach to gem when the laser gate disappears': "Move towards the gem swiftly after the laser gate deactivates.",
    'jump to grab the gem': "Jump to reach and collect the gem above.",
    'go to the middle ladder when the laser gate disappears': "Head to the central ladder when the path is clear of lasers.",
    'climb down the middle ladder': "Descend the central ladder to explore lower sections.",
    'climb down the ladder to the ground': "Climb down to the ground level for further exploration.",
    'jump over the spider to the left end': "Leap over the spider, moving left to avoid it.",
    'walk under the skulls to the middle ladder': "Navigate beneath hanging skulls to reach the middle ladder.",
    'climb down the middle ladder to the ground': "Descend the central ladder all the way to the ground level.",
    'jump over the right snake to its left': "Leap leftward over the snake on the right to evade it.",
    'jump over the left snake to its left': "Avoid the left-positioned snake by jumping further left.",
    'jump left to the yellow rope': "Leap leftwards to grasp and swing from the yellow rope.",
    'climb up the rope': "Ascend the rope to reach higher platforms or areas.",
    'climb down the middle yellow rope': "Descend the centrally placed yellow rope to a lower platform.",
    'jump up to the right platform when the floating floor appears': "Leap upwards to the right platform as soon as the floating floor materializes.",
    'jump up to the right roof when the floating floor appears': "Jump to the right rooftop when the floating platform emerges.",
    'jump over the left snake to its right': "Leap rightward over the snake positioned on the left.",
    'jump over the right snake to its right': "Jump right over the snake on the right to safely pass it.",
    'climb up the ladder': "Ascend the ladder to gain elevation within the game.",
    'walk under the skulls to their right': "Walk beneath the skulls, moving towards the right.",
    'jump over the spider to the middle ladder': "Leap over the spider, aiming to land by the middle ladder.",
    'move to the left end when the floating floor appears': "Shift to the left end of the area as the floating floor becomes visible.",
    'move to the middle ladder to rest when the floating floor appears': "Head to the central ladder for a brief respite when the floating floor is present.",
    'move to the right end when the floating floor appears': "Navigate to the right end upon the appearance of the floating floor.",
    'jump over the left snake to the middle ladder': "Leap over the snake on the left, targeting the middle ladder.",
    'open the right door': "Unlock and open the door on the right to progress.",
    'climb up the purple rope at the right': "Scale the purple rope located on the right side.",
    'jump left to the middle platform': "Make a left jump towards the central platform.",
    'jump over the skull to its left': "Leap leftwards over the skull to safely bypass it.",
    'jump left to the white rope at the left': "Leap to the left to grab the white rope and swing.",
    'move to the middle of the conveyor belt': "Position yourself at the center of the moving conveyor belt.",
    'jump up to grab the torch': "Leap up to seize the torch hanging above.",
    'cross the laser gate to its left when it disappears': "Cross towards the left just as the laser gate turns off.",
    'cross the laser gate to the middle when it disappears': "Move to the central area immediately when the laser gate deactivates.",
    'walk across the laser gate to its right': "Walk past the laser gate to its right when it's safe.",
    'cross the laser gate to the right end': "Navigate to the right end through the laser gate when it vanishes.",
    'jump over the spider to its right': "Leap rightward over the spider to evade it.",
    'climb up the middle ladder to the ground': "Ascend the central ladder, reaching up to the ground level.",
    'walk to the key area when the laser gate disappears': "Head towards the key area once the laser gate dissipates.",
    'go back to middle ladder when the laser gate disappears': "Return to the central ladder as the laser barrier disappears.",
    'move to the right end': "Navigate to the far right end for further actions or items.",
    'jump right to the blue rope to grab the key': "Jump right to reach the blue rope and seize the key.",
    'climb down the rope to the ground': "Descend along the rope to return to the ground level.",
    'move to the right end when the floor appears': "Shift to the right extremity when the floor materializes.",
    'move to the left end': "Head to the leftmost end of the area for new objectives.",
    'jump up to grab the first gem': "Leap up to capture the first gem located above.",
    'jump up to grab the second gem': "Jump upwards to acquire the second gem in sequence.",
    'jump up to grab the last gem': "Ascend to snatch the final gem available.",
    'move back to the left end': "Return to the left end to continue exploration or rest.",
    'get to the middle ladder to rest': "Reach the central ladder for a moment of rest.",
    'jump over the spider to the middle ladder': "Leap over the spider aiming for the middle ladder.",
    'jump over the right snake to its left': "Avoid the right-placed snake by jumping to its left.",
    'cross the laser gate to the middle': "Pass through the center as the laser gate turns off.",
    'jump over the left snake to its left': "Leap leftwards over the snake positioned on the left.",
    'cross the laser gate to its left': "Cross towards the left as the laser gate deactivates.",
    'cross the laser gate to its left when it disappears': "Quickly cross to the left side when the laser gate vanishes.",
    'move to the right end': "Proceed to the extreme right for possible tasks or items.",
    'jump to grab the middle gem when the floor appears': "Leap to capture the central gem when the floor appears.",
    'quickly move to the right end': "Hastily move to the right extremity to complete tasks or collect items.",
    'jump up to grab the gem': "Jump up to collect the gem located above.",
    'quickly move to the left end': "Swiftly shift to the leftmost end for subsequent actions.",
    'move towards the armour': "Approach the area where the armour is located.",
    'jump to grab the armour': "Leap up to seize the armour hanging above.",
    'quickly cross the floating floor to the left end': "Rapidly traverse the floating floor to reach the left end.",
    'open the right door': "Unlock and swing open the door on the right to proceed.",
    'open the left door': "Open the door on the left for access to new areas.",
    'go to the left end': "Navigate to the left end to explore or complete tasks.",
    'jump to grab the gem': "Leap upwards to grasp the gem positioned above.",
    'jump to grab the gem on the right': "Jump rightwards to seize the gem located there.",
     'climb down the ladder': "Descend the ladder to explore lower levels of the dungeon.",
    'climb up the middle ladder': "Ascend the central ladder to reach higher floors or platforms.",
    'jump over the spider to its left': "Leap leftward over the spider to safely bypass this creepy crawler.",
    'jump over the snake to its right': "Jump rightward over the snake to avoid its dangerous bite.",
    'stay on the conveyor belt': "Remain positioned on the moving conveyor belt to avoid hazards.",
    'jump to get the middle gem': "Leap upward to seize the gem positioned centrally.",
    'walk to the middle ladder': "Proceed on foot to the central ladder for vertical movement.",
    'jump up to grab the middle gem': "Jump upwards to capture the centrally placed gem.",
    'jump right to the right top platform': "Leap to the right, aiming for the uppermost platform.",
    'jump over the skull': "Leap over the menacing skull to avoid a deadly touch.",
    'jump left to the middle ladder': "Leap leftward to access the middle ladder.",
    'jump right to the blue rope': "Jump towards the right to catch and swing from the blue rope.",
    'jump to get the first gem': "Leap up to capture the first available gem.",
    'jump over the spider to the right': "Leap rightward over the spider to safely pass by.",
    'jump left to grab the key': "Leap left to snatch the key hanging in the air.",
    'walk left when the laser gate disappears': "Walk left through the open space once the laser gate vanishes.",
    'move right': "Shift your position to the right within the environment.",
    'move right to the key': "Move towards the right to reach and collect the key.",
    'walk to the right side of the conveyor belt': "Walk towards the right edge of the moving conveyor belt.",
    'climb down the rope': "Descend the rope to reach a lower level or platform.",
    'jump up to get the right gem': "Jump upwards to retrieve the gem located on the right.",
    'go right to cross the laser gate': "Move right through the laser gate when it deactivates.",
    'move across the laser gate to its right': "Cross through the right side of the laser gate as it opens.",
    'jump up to get the torch': "Leap upwards to seize the torch located above.",
    'quickly move to the right end to avoid disappearing floor': "Hurry to the right end before the floor vanishes beneath you.",
    'go to the middle ladder to rest': "Head to the central ladder for a brief pause or to strategize next moves.",
    'go right to cross the right laser gate': "Navigate rightward through the deactivated right-side laser gate.",
    'jump up to get the gem': "Leap upwards to capture the gem positioned above you.",
    'go across the laser gate to the left': "Pass through the laser gate to the left when it's safe.",
    'walk to the right end': "Walk to the far right end of the level for further exploration.",
    'grab the armour on the left': "Reach and take the armor located on the left side.",
    'jump left to the left roof': "Leap to the left to land on the roof area.",
    'climb up the blue rope': "Ascend the blue rope to reach higher platforms.",
    'jump up to the top platform': "Leap upwards to arrive at the topmost platform.",
    'wait until the floor to appear': "Pause and wait for the temporary floor to materialize before proceeding.",
    'move to the left end on the ground': "Navigate to the ground area's leftmost end.",
    'move to the right platform': "Move towards the platform on the right for further actions.",
    'jump over the right snake': "Leap over the snake on the right to safely continue.",
    'use key to open the left door': "Use the collected key to unlock and open the left door.",
    'jump up to the right platform': "Jump upward to access the platform located on your right.",
    'wait for the laser gate to appear': "Pause and wait for the laser gate to activate before making a move.",
    'climb down the yellow rope': "Descend the yellow rope to reach a lower level.",
    'walk under the skulls': "Walk beneath the hanging skulls to safely navigate the area.",
    'wait for the spider to leave': "Hold position until the spider moves away before proceeding.",
    'wait for the spider to approach to you': "Stay still and wait for the spider to come closer before making your next move.",
    'move to the middle ladder and rest': "Proceed to the central ladder and take a moment to rest.",
    'jump over the left snake to the left': "Leap over the snake on the left, moving further left to avoid it.",
    'jump over the skull to its right': "Leap rightward over the skull to continue safely on your path.",
    'go across the laser gate when it disappears': "Cross through the deactivated laser gate to advance.",
    'climb up the right ladder': "Ascend the ladder on the right to reach higher ground.",
    'move right to the right ladder': "Move to the right to access the ladder leading upwards.",
    'wait for the laser gate to disappear': "Pause until the laser gate deactivates before proceeding.",
    'grab the key in the middle': "Seize the key positioned centrally within the level.",
    'wait for the floor to show up': "Hold your position until the temporary floor appears.",
    'cross the laser gate to the middle': "Navigate through the center of the deactivated laser gate.",
    'go across the left laser gate to the left end': "Move through the left-side laser gate to reach the left end.",
    'climb down the middle rope': "Descend the central rope to access lower areas of the level.",
    'jump to the yellow rope': "Leap towards the yellow rope to swing or climb.",
    'climb down the blue rope': "Carefully descend the blue rope to a lower platform or area.",
    'walk left to the middle ladder': "Walk leftwards to reach the central ladder for vertical movement.",
    'wait until the spider goes away': "Delay your movement until the spider departs from your path.",
    'move right to the right platform': "Shift rightward to position yourself on the right platform.",
    'jump to get the third gem': "Leap up to collect the third gem located above.",
    'jump over the left snake to the left platform': "Leap leftward over the snake to land on the left platform.",
    'wait until the laser gate disappears': "Stay put until the laser gate vanishes before making your move.",
    'jump up to grab the sword': "Leap upward to snatch the sword suspended above.",
    'move across the right laser gate to its left': "Cross to the left through the right-side laser gate when it deactivates.",
    'jump up to the yellow rope': "Leap upwards to grasp and use the yellow rope.",
    'go across the right laser gate to its right': "Navigate through the right portion of the right-side laser gate.",
    'climb up the purple ladder': "Ascend the purple ladder to access upper levels or platforms.",
    'move to the middle ladder': "Proceed to the central ladder for climbing or descending.",
    'move across the laser gate to its left': "Cross through the left part of the laser gate as it deactivates.",
    'jump over the spider to the left': "Leap leftward over the spider to avoid contact.",
    'wait for the floor to disappear': "Hold your position until the temporary floor vanishes.",
    'jump over the right snake': "Leap over the snake on the right to continue safely.",
    'jump over the spider': "Jump over the spider to avoid being caught or injured.",
    'move under the skulls to right end': "Navigate under the hanging skulls towards the right end of the level.",
    'move right to the gem area': "Shift rightward towards the area where the gem is located.",
    'approach to the gem': "Move closer to the gem in preparation to collect it.",
    'go right to cross the second left laser gate': "Navigate rightward through the second laser gate on the left side.",
    'walk to the middle when the laser gate disappears': "Walk to the central area once the laser gate deactivates.",
    'climb up the rope to the middle platform': "Ascend the rope to reach the middle platform above.",
    'move close to the gem': "Approach the gem closely to prepare for its collection.",
    'jump left to the middle yellow rope': "Leap leftward to catch and climb the middle yellow rope.",
    'jump over to the left of the skull': "Leap leftward to bypass the skull on your path.",
    'jump to the right end': "Leap towards the right end of the area for further exploration.",
    'go across the right laser gate': "Cross through the right-side laser gate as it deactivates.",
    'jump over the right snake to the middle ladder': "Leap over the right-positioned snake aiming for the middle ladder.",
    'jump to grab the key': "Leap upwards to seize the key hanging in the air.",
    'jump to get the second gem': "Jump up to collect the second gem positioned above.",
    'jump left to the white rope': "Leap leftward to grasp and swing from the white rope.",
    'move down the middle ladder': "Descend the central ladder to lower levels of the dungeon.",
    'wait for the floor to appear': "Pause until the temporary floor materializes before proceeding.",
    'wait for the spider to leave ': "Hold position and wait for the spider to vacate the area before proceeding.",
    'walk to the middle when the laser gate disappears': "Advance to the central area once the laser gate temporarily deactivates.",
    'jump to get the thrid gem': "Leap upwards to secure the third gem positioned strategically within the level.",
    'move right ': "Navigate rightward to explore further or to avoid obstacles.",
    'jump left to the left roof ': "Leap leftward to land on the left roof for a strategic vantage point.",
    'cross the laser gate to the middle ': "Pass through the central section of the laser gate when it turns off to proceed.",
    'jump over the right snake ': "Leap over the snake on the right to safely continue your adventure.",

}


if __name__ == "__main__":
    original_task_set = set(CRAFTER_TASKS)
    rephrased_task_key_set = set(CRAFTER_TASKS_REPHRASED.keys())
    print("Difference between original and rephrased tasks for Crafter:")
    print(original_task_set - rephrased_task_key_set)
    
    original_task_set = set(MINIGRID_TASKS)
    rephrased_task_key_set = set(MINIGRID_TASKS_REPHRASED.keys())
    print("Difference between original and rephrased tasks for MiniGrid:")
    print(original_task_set - rephrased_task_key_set)
    
    montezuma_df_path = os.path.join(os.environ['PWD'], 'data/03_traj_instr_pairs/montezuma/instr.csv')
    montezuma_df = pd.read_csv(montezuma_df_path)
    montezuma_tasks = montezuma_df['instruction'].tolist()
    montezuma_tasks_set = set(montezuma_tasks)
    rephrased_task_key_set = set(MONTEZUMA_TASKS_REPHRASED.keys())
    print("Difference between original and rephrased tasks for Montezuma:")
    print(montezuma_tasks_set - rephrased_task_key_set)
    